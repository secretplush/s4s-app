(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{4021:function(e,t,a){Promise.resolve().then(a.bind(a,381))},381:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(3827),r=a(4090),n=a(8792),l=a(6737);function o(){let e=new Date,t=new Date(e.getFullYear(),0,0);return Math.floor((e.getTime()-t.getTime())/864e5)}let i={0:4,1:9,2:6,3:3,4:8,5:4,6:4,7:7,8:3,9:3,10:8,11:5,12:5,13:6,14:6,15:3,16:6,17:3,18:3,19:4,20:3,21:4,22:3,23:3};function c(){let e=new Date,t=60*e.getUTCHours()+e.getUTCMinutes()+-240,a=Math.floor((t%1440+1440)%1440/60),s=(t%60+60)%60,r=e.getUTCSeconds();return{hours:a,minutes:s,seconds:r,formatted:"".concat(0===a?12:a>12?a-12:a,":").concat(String(s).padStart(2,"0"),":").concat(String(r).padStart(2,"0")," ").concat(a>=12?"PM":"AM"," AST")}}var d=a(251),u=a(3125);function m(){let[e,t]=(0,r.useState)([]),[a,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(0),[f,x]=(0,r.useState)(0),[p,y]=(0,r.useState)(""),[b,D]=(0,r.useState)([]),[v,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)([]),[E,S]=(0,r.useState)(""),[k,C]=(0,r.useState)([]),O=(0,r.useRef)(null),T=(0,r.useRef)(new Set),[M,I]=(0,r.useState)(""),[P,A]=(0,r.useState)(""),[F,_]=(0,r.useState)(null),[U,R]=(0,r.useState)(!1),[q,z]=(0,r.useState)(null),L=(0,r.useCallback)(e=>{let t=new Date().toLocaleTimeString("en-US",{timeZone:"America/Puerto_Rico"});C(a=>["[".concat(t,"] ").concat(e),...a.slice(0,49)])},[]),B=(0,r.useCallback)(async(e,t)=>{var a;if(!e||!t){_(null);return}let s=(await (0,d.lL)(t)).find(t=>{var a;return t.isActive&&(null===(a=t.vaultIds)||void 0===a?void 0:a[e])});_((null==s?void 0:null===(a=s.vaultIds)||void 0===a?void 0:a[e])||null)},[]),G=(0,r.useCallback)(async()=>{if(!M||!P||!F)return;let e=l.aT.find(e=>e.username===M),t=l.aT.find(e=>e.username===P);if(!e||!t)return;R(!0),z("⏳ Creating post...");let a=(0,u.m8)(t.username);try{let s=await fetch("/api/rotation/execute-tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promoterUsername:e.username,targetUsername:t.username,vaultId:F,caption:a,account:e.id})}),r=await s.json();r.success?(z("✅ SUCCESS! Post ID: ".concat(r.postId,'\nCaption: "').concat(a,'"\nUsing vault ID: ').concat(F,"\n⏳ Auto-deleting in 5 minutes...")),L("\uD83E\uDDEA TEST: ".concat(e.username," → @").concat(t.username," = ").concat(r.postId)),setTimeout(async()=>{L("\uD83D\uDDD1️ Deleting test post ".concat(r.postId,"..."));try{let t=await fetch("/api/rotation/delete-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:r.postId,account:e.id})}),a=await t.json();a.success?(L("✅ Test post deleted: ".concat(r.postId)),z(e=>e+"\n✅ Post deleted!")):L("❌ Delete failed: ".concat(a.error))}catch(e){L("❌ Delete error: ".concat(e))}},3e5)):z("❌ FAILED: ".concat(r.error,"\n").concat(JSON.stringify(r.details||"")))}catch(e){z("❌ ERROR: ".concat(e))}finally{R(!1)}},[M,P,F,L]);(0,r.useEffect)(()=>{M&&P?B(M,P):_(null)},[M,P,B]),(0,r.useEffect)(()=>{let e=l.aT.map(e=>({id:e.id,username:e.username,displayName:e.displayName}));t(function(e){let t=e.length;if(t<2)return[];let a=o(),s=[],r=t-1,n=r*Math.max(1,Math.floor(56/r)),l=e=>{let t=1e4*Math.sin(e);return t-Math.floor(t)};for(let r=0;r<t;r++){let o=1440/n,c=(r+a)*37%1440;for(let d=0;d<n;d++){let n=(r+d%(t-1)+1+a)%t;if(n===r)continue;let u=(d*o+c)%1440,m=Math.floor(u/60);if(2>=(i[m]||5))for(let e of[-1,1,-2,2,-3,3]){let t=(m+e+24)%24;if(i[t]>3){u=60*t+u%60;break}}let h=Math.floor((u=(u+Math.floor(10*l(1e3*a+100*r+d)))%1440)/60),g=Math.floor(u%60),f=Math.floor(60*l(500*a+d));s.push({promoterId:e[r].id,promoterUsername:e[r].username,targetId:e[n].id,targetUsername:e[n].username,minuteOffset:g,secondOffset:f,hourOffset:h})}}return s.sort((e,t)=>3600*(e.hourOffset||0)+60*e.minuteOffset+e.secondOffset-(3600*(t.hourOffset||0)+60*t.minuteOffset+t.secondOffset))}(e)),m(function(e){let t=e-1,a=Math.max(1,Math.floor(56/t)),s=Math.min(t*a,56),r=e*s,n=1440/s,l=o(),c=Object.values(i).reduce((e,t)=>e+t,0),d={};for(let e=0;e<24;e++){let t=i[e]||5;d[e]=Math.round(t/c*r)}return{modelCount:e,targetsPerModel:t,tagsPerModelPerDay:s,totalTagsPerDay:r,avgIntervalMinutes:Math.round(n),avgIntervalFormatted:"".concat(Math.floor(n/60),"h ").concat(Math.round(n%60),"m"),peakHours:[1,4,10],deadHours:[18,20],dayOfYear:l,rotationType:"daily-weighted",hourlyDistribution:d,tagsPerPair:a}}(e.length)),D(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.length;if(a<2)return[];let s=new Date,r=Math.floor((s.getTime()-new Date(s.getFullYear(),0,0).getTime())/864e5)+t,n=[];for(let t=0;t<a;t++){let s=e[t],l=(t+1+r)%a;l===t&&(l=(l+1)%a),n.push({promoter:s,target:e[l]})}return n}(e));let a=()=>{let e=c();g(e.hours),x(e.minutes),y(e.formatted)};a();let s=setInterval(a,1e3);return()=>clearInterval(s)},[]);let J=(0,r.useCallback)(async e=>{let t=l.aT.find(t=>t.username===e.promoterUsername),a=l.aT.find(t=>t.username===e.targetUsername);if(!t||!a){L("❌ Model not found: ".concat(e.promoterUsername," or ").concat(e.targetUsername));return}let s=(await (0,d.lL)(t.username)).find(e=>{var t;return e.isActive&&(null===(t=e.vaultIds)||void 0===t?void 0:t[a.username])});if(!s){L("⚠️ No vault ID for ".concat(t.username," → ").concat(a.username));return}let r=s.vaultIds[a.username],n=(0,u.m8)(a.username);L("\uD83D\uDE80 Posting: ".concat(t.username," → @").concat(a.username));try{let e=await fetch("/api/rotation/execute-tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promoterUsername:t.username,targetUsername:a.username,vaultId:r,caption:n,account:t.id})}),s=await e.json();s.success?(L("✅ Posted! ID: ".concat(s.postId," (delete in 5 min)")),w(e=>[...e,{promoter:t.username,target:a.username,postId:s.postId,createdAt:Date.now(),deleteAt:s.deleteAt,status:"active"}]),setTimeout(async()=>{L("\uD83D\uDDD1️ Deleting ghost tag ".concat(s.postId,"..."));try{await fetch("/api/rotation/delete-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:s.postId,account:t.id})}),L("✅ Deleted ".concat(s.postId)),w(e=>e.map(e=>e.postId===s.postId?{...e,status:"deleted"}:e))}catch(e){L("❌ Delete failed: ".concat(e))}},3e5)):L("❌ Failed: ".concat(s.error))}catch(e){L("❌ Error: ".concat(e))}},[L]),V=(0,r.useCallback)(async()=>{let t=c(),a=60*t.hours+t.minutes;for(let s of(S(t.formatted),e.filter(e=>60*(e.hourOffset||0)+e.minuteOffset===a))){let e="".concat(s.hourOffset,":").concat(s.minuteOffset,":").concat(s.promoterUsername);T.current.has(e)||(T.current.add(e),await J(s))}},[e,J]),H=(0,r.useCallback)(()=>{L("▶️ Rotation STARTED - checking every 30 seconds"),j(!0),T.current.clear(),V(),O.current=setInterval(V,3e4)},[L,V]),Y=(0,r.useCallback)(()=>{L("⏹️ Rotation STOPPED"),j(!1),O.current&&(clearInterval(O.current),O.current=null)},[L]);(0,r.useEffect)(()=>()=>{O.current&&clearInterval(O.current)},[]);let W=60*h+f,Z=e.filter(e=>{let t=60*(e.hourOffset||0)+e.minuteOffset;return t<=W&&t>W-5}),$=e.filter(e=>{let t=60*(e.hourOffset||0)+e.minuteOffset;return t>W&&t<W+30}).slice(0,10);return(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.default,{href:"/",className:"text-purple-400 hover:text-purple-300 mb-2 inline-block",children:"← Back to Dashboard"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Rotation Schedule"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Mirrors competitor's exact S4S method"})]}),(0,s.jsxs)("div",{className:"text-right flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:v?Y:H,className:"px-6 py-3 rounded-lg font-bold text-lg transition-all ".concat(v?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-green-600 hover:bg-green-700 text-white"),children:v?"⏹️ Stop Rotation":"▶️ Start Rotation"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-mono text-green-400",children:p||"--:--:-- AST"}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Puerto Rico Time (AST)"})]})]})]}),(v||k.length>0)&&(0,s.jsxs)("div",{className:"mb-6 bg-gray-800/70 rounded-xl p-4 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[v&&(0,s.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Runner Status"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Last check: ",E||"N/A"," • Active tags: ",N.filter(e=>"active"===e.status).length," • Total executed: ",N.length]})]}),(0,s.jsx)("div",{className:"bg-black/50 rounded-lg p-3 max-h-32 overflow-y-auto font-mono text-xs",children:0===k.length?(0,s.jsx)("div",{className:"text-gray-500",children:"No activity yet..."}):k.map((e,t)=>(0,s.jsx)("div",{className:"".concat(e.includes("✅")?"text-green-400":e.includes("❌")?"text-red-400":e.includes("⚠️")?"text-yellow-400":e.includes("\uD83D\uDE80")?"text-blue-400":"text-gray-400"),children:e},t))})]}),(0,s.jsxs)("div",{className:"mb-6 bg-gray-800/50 rounded-xl p-4 border border-yellow-700/30",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-yellow-400 mb-3",children:"\uD83E\uDDEA Test Single Tag"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Verify vault IDs work before running full rotation"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Promoter (who posts)"}),(0,s.jsxs)("select",{value:M,onChange:e=>I(e.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:[(0,s.jsx)("option",{value:"",children:"Select promoter..."}),l.aT.map(e=>(0,s.jsxs)("option",{value:e.username,children:["@",e.username]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Target (who gets tagged)"}),(0,s.jsxs)("select",{value:P,onChange:e=>A(e.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:[(0,s.jsx)("option",{value:"",children:"Select target..."}),l.aT.filter(e=>e.username!==M).map(e=>(0,s.jsxs)("option",{value:e.username,children:["@",e.username]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Vault ID"}),(0,s.jsx)("div",{className:"px-3 py-2 rounded font-mono text-sm ".concat(F?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"),children:F||(M&&P?"❌ No vault ID found":"...")})]}),(0,s.jsx)("button",{onClick:G,disabled:!F||U,className:"px-4 py-2 rounded font-bold transition-all ".concat(F&&!U?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:U?"⏳ Posting...":"\uD83D\uDE80 Test Post"})]}),q&&(0,s.jsx)("pre",{className:"mt-4 p-3 rounded text-sm whitespace-pre-wrap ".concat(q.includes("SUCCESS")?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"),children:q})]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/50 to-purple-800/30 rounded-xl p-6 border border-purple-500/30",children:[(0,s.jsxs)("div",{className:"text-4xl font-bold text-purple-400",children:["~",a.tagsPerModelPerDay]}),(0,s.jsx)("div",{className:"text-gray-300 font-medium",children:"Outbound Ghost Tags / Model Page / Day"}),(0,s.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Posts made ON each model's page"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-cyan-900/50 to-cyan-800/30 rounded-xl p-6 border border-cyan-500/30",children:[(0,s.jsxs)("div",{className:"text-4xl font-bold text-cyan-400",children:["~",a.tagsPerModelPerDay]}),(0,s.jsx)("div",{className:"text-gray-300 font-medium",children:"Inbound Ghost Tags / Model / Day"}),(0,s.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Tags received by each model (varies daily)"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:a.modelCount}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Models in Network"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-300",children:a.avgIntervalFormatted}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Avg Between Posts"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:a.totalTagsPerDay}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Total Tags/Day (Agency)"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-300",children:[a.tagsPerPair||4,"x"]}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Tags Per Pair/Day"})]})]}),(()=>{let t={};for(let e=0;e<24;e++)t[e]=0;e.forEach(e=>{let a=e.hourOffset||0;t[a]=(t[a]||0)+1});let r=Math.max(...Object.values(t),1);return(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:"\uD83D\uDCCA Agency Tag Distribution by Hour"}),(0,s.jsxs)("p",{className:"text-gray-400 text-sm mb-4",children:[e.length," total tags/day across ",a.modelCount," models • Based on actual schedule"]}),(0,s.jsx)("div",{className:"flex items-end gap-2 h-48 px-2",children:Array.from({length:24},(e,a)=>{let n=t[a]||0,l=[1,4,10].includes(a),o=[18,20].includes(a),i=a===h,c=r>0?n/r*100:0;return(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center group",children:[(0,s.jsx)("div",{className:"relative mb-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsxs)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-gray-900 px-2 py-1 rounded text-xs text-white whitespace-nowrap z-20",children:[n," tags"]})}),(0,s.jsx)("div",{className:"w-full h-36 flex items-end",children:(0,s.jsx)("div",{className:"w-full rounded-t-sm transition-all ".concat(i?"bg-yellow-500 shadow-lg shadow-yellow-500/30":l?"bg-purple-500":o?"bg-orange-500/50":"bg-gray-500"),style:{height:"".concat(Math.max(c,3),"%")}})}),(0,s.jsx)("div",{className:"text-xs mt-2 ".concat(i?"text-yellow-400 font-bold":"text-gray-500"),children:0===a?"12a":12===a?"12p":a>12?"".concat(a-12,"p"):"".concat(a,"a")})]},a)})}),(0,s.jsxs)("div",{className:"flex gap-6 mt-4 text-sm justify-center",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-4 h-4 bg-purple-500 rounded"})," Peak hours"]}),(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-4 h-4 bg-orange-500/50 rounded"})," Low activity"]}),(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-4 h-4 bg-yellow-500 rounded"})," Current hour"]})]})]})})()]}),(0,s.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-600/50 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-yellow-400 font-medium",children:"Preview Mode — Automation Not Running"}),(0,s.jsx)("div",{className:"text-yellow-200/70 text-sm",children:"This shows the PLANNED schedule. No posts are being made until you start the rotation."})]})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 ".concat(Z.length>0?"bg-green-600 animate-pulse":"bg-gray-600"," text-white text-xs rounded"),children:Z.length>0?"LIVE":"PREVIEW"}),"\uD83D\uDC7B Active Ghost Tags (",Z.length,")"]}),(0,s.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:"Tags posted in last 5 min — still visible before auto-delete"}),Z.length>0?(0,s.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Z.map((e,t)=>{let a=e.hourOffset||0,r="".concat(0===a?12:a>12?a-12:a,":").concat(String(e.minuteOffset).padStart(2,"0")," ").concat(a>=12?"PM":"AM");return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-green-900/30 border border-green-700/50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:["@",e.promoterUsername]}),(0,s.jsx)("span",{className:"text-green-500",children:"→"}),(0,s.jsxs)("span",{className:"text-gray-200 font-medium",children:["@",e.targetUsername]})]}),(0,s.jsx)("div",{className:"text-green-500/70 font-mono text-sm",children:r})]},t)})}):(0,s.jsx)("div",{className:"text-gray-500 text-center py-4",children:"No tags currently live (automation not running yet)"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-300 mt-6 mb-3",children:"⏳ Coming Up (Next 30 min)"}),$.length>0?(0,s.jsx)("div",{className:"space-y-2 opacity-80",children:$.map((e,t)=>{let a=e.hourOffset||0,r="".concat(0===a?12:a>12?a-12:a,":").concat(String(e.minuteOffset).padStart(2,"0")," ").concat(a>=12?"PM":"AM");return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/30 rounded-lg p-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:["@",e.promoterUsername]}),(0,s.jsx)("span",{className:"text-purple-400",children:"→"}),(0,s.jsxs)("span",{className:"text-gray-300",children:["@",e.targetUsername]})]}),(0,s.jsx)("span",{className:"text-gray-500 font-mono text-xs",children:r})]},t)})}):(0,s.jsx)("div",{className:"text-gray-500 text-center py-2 text-sm",children:"None in next 30 min"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:"\uD83D\uDCCC Today's Pinned Posts"}),(0,s.jsxs)("p",{className:"text-gray-400 text-sm mb-4",children:["1:1 wheel rotation • Each model pins 1 other model • Full rotation in ",l.aT.length-1," days"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:["@",e.promoter.username]}),(0,s.jsx)("span",{className:"text-yellow-400",children:"\uD83D\uDCCC"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:["@",e.target.username]})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"expireDays: 1"})]},t))}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700 text-sm text-gray-400",children:[(0,s.jsx)("strong",{children:"Schedule:"})," Posts at 6:00 AM AST daily • Auto-expires after 24hr"]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-white",children:["\uD83D\uDC7B Full Day Ghost Tag Schedule (",e.length," tags)"]}),(0,s.jsx)("span",{className:"px-2 py-0.5 bg-gray-600 text-gray-300 text-xs rounded",children:"PREVIEW"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"All times in AST • Weighted toward peak hours (1AM, 4AM, 10AM) • Each post expires 5 min after posting"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-96 overflow-y-auto text-sm",children:e.map((e,t)=>{let a=e.hourOffset||0,r=60*a+e.minuteOffset,n=60*h+f,l=r<n-5,o=r<=n&&r>n-5,i="".concat(0===a?12:a>12?a-12:a,":").concat(String(e.minuteOffset).padStart(2,"0")," ").concat(a>=12?"PM":"AM");return(0,s.jsxs)("div",{className:"flex items-center justify-between rounded p-2 ".concat(o?"bg-green-900/30 border border-green-600/50":l?"bg-gray-800/30 opacity-40":"bg-gray-700/30"),children:[(0,s.jsx)("span",{className:"font-mono text-xs ".concat(o?"text-green-400":l?"text-gray-600":"text-gray-500"),children:i}),(0,s.jsxs)("span",{className:"truncate ml-2 ".concat(l?"text-gray-600":"text-gray-400"),children:[e.promoterUsername.slice(0,8),"→",e.targetUsername.slice(0,8)]})]},t)})})]}),(0,s.jsxs)("div",{className:"mt-8 bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"How It Works (Competitor-Matched)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-gray-300",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-purple-400 mb-2",children:"Ghost Tags (Daily Rotation)"}),(0,s.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,s.jsx)("li",{children:"• Each model tags each other model once/day"}),(0,s.jsxs)("li",{children:["• ",null==a?void 0:a.tagsPerModelPerDay," tags per model per day (~",null==a?void 0:a.avgIntervalFormatted," apart)"]}),(0,s.jsx)("li",{children:"• Weighted toward peak hours: 1 AM, 4 AM, 10 AM AST"}),(0,s.jsx)("li",{children:"• Dead zones: 6-8 PM AST (minimal activity)"}),(0,s.jsx)("li",{children:"• Post auto-deletes after 5 minutes"}),(0,s.jsx)("li",{children:"• Result: matches competitor's proven pattern"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-yellow-400 mb-2",children:"Pinned 24hr Posts (Daily)"}),(0,s.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,s.jsx)("li",{children:"• Posted at 6am daily"}),(0,s.jsx)("li",{children:"• Pinned to top of profile"}),(0,s.jsx)("li",{children:"• Uses expireDays: 1 for auto-removal"}),(0,s.jsx)("li",{children:"• Rotates targets so everyone gets promoted"}),(0,s.jsx)("li",{children:"• Result: profile visitors see promos"})]})]})]})]})]})})}},3125:function(e,t,a){"use strict";a.d(t,{H9:function(){return n},m8:function(){return r},wm:function(){return s}});let s=["my friend from college {username} just launched her OF \uD83E\uDD2D\uD83D\uDC95","OMG i cant believe my bestie just launched her OF \uD83D\uDE0D {username}","Your sign to follow my college bestie, you're welcome \uD83E\uDD2D {username} ✨","my roommate {username} finally made an OF and im obsessed \uD83D\uDE48\uD83D\uDC95","everyone's college crush finally launched her OF \uD83E\uDD2D\uD83D\uDC95 {username}","my bestie {username} is SO bad at promoting herself so im doing it for her \uD83D\uDE02\uD83D\uDC95","{username} is new to OF and is sending FREE content! \uD83D\uDE48","{username} just launched her FREE VIP for 24 hours. Don't miss it! \uD83E\uDD70","she literally JUST turned 18 and dropped her OF! \uD83E\uDD2D go say hi to {username} \uD83D\uDC95","{username} just started and she's already going crazy in DMs \uD83D\uDE48\uD83D\uDD25","{username} is brand new and already posting daily \uD83D\uDE0D","ok but {username} is actually so pretty go sub to her \uD83E\uDD70","{username} is so underrated honestly \uD83D\uDE48 go show her some love \uD83D\uDC95","you NEED to check out {username} \uD83E\uDD2D you'll thank me later","{username} is that girl fr fr \uD83D\uDC95✨","{username} is so petite & cute \uD83D\uDC95 sub to her VIP for FREE! \uD83C\uDF38","the cutest girl on OF?? {username} \uD83E\uDD70\uD83D\uDC95","{username} gives such innocent vibes but... \uD83D\uDE48\uD83D\uDE0F","ok {username} is literally adorable go follow her \uD83D\uDC95","obsessed with {username} lately \uD83D\uDE0D you should be too","the way {username} is taking over OF rn \uD83D\uDD25","{username} is about to blow up i swear \uD83D\uDCC8\uD83D\uDC95","caught {username} slipping into my DMs and wow \uD83D\uDE48\uD83D\uDD25","go follow {username} \uD83D\uDC95","{username} \uD83E\uDD2D\uD83D\uDC95","{username} tho \uD83D\uDE0D","her: {username} \uD83D\uDC95✨"];function r(e){return s[Math.floor(Math.random()*s.length)].replace(/{username}/g,"@".concat(e))}let n=["I've been friends with {username} forever and she finally made an OF \uD83E\uDD79 Go show her love, she's the sweetest \uD83D\uDC95","Okay but {username} is genuinely one of my favorite people and her content is \uD83D\uDD25 You're welcome in advance","Not me forcing {username} to finally start posting... you guys are gonna love her trust me \uD83D\uDC95","Been telling y'all about {username} for months, she's finally here and she does NOT disappoint \uD83D\uDE0D","My roommate {username} finally listened to me and made an OF \uD83D\uDE48 She's nervous so go be nice to her \uD83D\uDC95","Living with {username} means I see the behind the scenes... trust me when I say go subscribe \uD83E\uDD2D","{username} is literally my best friend and I'm so proud of her for starting this journey \uD83E\uDD79\uD83D\uDC95","POV: Your bestie {username} finally takes your advice and starts an OF \uD83D\uDE2D\uD83D\uDC95 Go support her!","If you only subscribe to one new creator this month, make it {username} \uD83D\uDC95 You'll see why","The prettiest girl I know just dropped her OF \uD83D\uDE0D {username} is about to take over fr","{username} asked me to share her page and honestly... easiest yes ever. She's stunning \uD83D\uDC95","I don't promote just anyone but {username} is different. Go see for yourself \uD83D\uDD25","Fun fact: {username} and I have been planning this collab forever \uD83E\uDD2D Go follow her so we can make it happen \uD83D\uDC95","Y'all keep asking who my prettiest friend is... it's {username} and now she has an OF \uD83D\uDE0D","{username} helped me when I first started, now it's my turn to help her \uD83D\uDC95 Go subscribe!","Story time: Met {username} at a party and instantly knew she needed to be on here \uD83D\uDE48\uD83D\uDC95"]},251:function(e,t,a){"use strict";a.d(t,{EY:function(){return l},TU:function(){return i},lL:function(){return n},xA:function(){return o},yn:function(){return d}});let s="promo_images";function r(){return new Promise((e,t)=>{let a=indexedDB.open("s4s_promo_db",1);a.onerror=()=>t(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(s)||t.createObjectStore(s,{keyPath:"username"})}})}async function n(e){try{let t=await r();return new Promise((a,r)=>{let n=t.transaction(s,"readonly").objectStore(s).get(e);n.onerror=()=>r(n.error),n.onsuccess=()=>{let e=n.result;a((null==e?void 0:e.images)||[])}})}catch(t){return console.error("Failed to load from IndexedDB:",t),function(e){try{let t=localStorage.getItem("s4s_promo_images");if(!t)return[];return JSON.parse(t)[e]||[]}catch(e){return[]}}(e)}}async function l(e,t){try{let a=await r();return new Promise((r,n)=>{let l=a.transaction(s,"readwrite").objectStore(s).put({username:e,images:t});l.onerror=()=>n(l.error),l.onsuccess=()=>r()})}catch(e){throw console.error("Failed to save to IndexedDB:",e),e}}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;try{let t=await r();return new Promise((a,r)=>{let n=t.transaction(s,"readonly").objectStore(s).getAll();n.onerror=()=>r(n.error),n.onsuccess=()=>{let t={},s=e-1;for(let e of n.result){let a=e.images.filter(e=>e.isActive),r=!1,n=s,l=0;for(let e of a){let t=Object.keys(e.vaultIds||{}).length;t<s&&(r=!0),n=Math.min(n,t),l=Math.max(l,t)}let o="";0===a.length?(o="No active images",r=!0):o=r?"".concat(n,"/").concat(s," vaults"):"✓ All ".concat(s," vaults"),t[e.username]={total:e.images.length,active:a.length,needsDistribution:r,vaultStatus:o}}a(t)}})}catch(e){return console.error("Failed to get image counts:",e),{}}}async function i(){try{let e=localStorage.getItem("s4s_promo_images");if(!e)return 0;let t=JSON.parse(e),a=0;for(let[e,s]of Object.entries(t))s&&s.length>0&&(await l(e,s),a+=s.length);return a>0&&(localStorage.removeItem("s4s_promo_images"),console.log("Migrated ".concat(a," images from localStorage to IndexedDB"))),a}catch(e){return console.error("Migration failed:",e),0}}async function c(){try{let e=await r();return new Promise((t,a)=>{let r=e.transaction(s,"readonly").objectStore(s).getAll();r.onerror=()=>a(r.error),r.onsuccess=()=>{let e={},a=[];for(let t of r.result)for(let s of(a.push(t.username),t.images))if(s.isActive)for(let[a,r]of Object.entries(s.vaultIds||{}))e[a]||(e[a]={}),e[a][t.username]=r;t({mappings:e,models:a})}})}catch(e){return console.error("Failed to export vault mappings:",e),{mappings:{},models:[]}}}async function d(){try{let{mappings:e,models:t}=await c(),a=await fetch("/api/sync/vault-mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mappings:e,models:t})}),s=await a.json();if(s.success)return{success:!0,message:"Synced ".concat(t.length," models with ").concat(s.totalVaultIds," vault mappings")};return{success:!1,message:s.error||"Sync failed"}}catch(e){return{success:!1,message:String(e)}}}},6737:function(e,t,a){"use strict";function s(e){return 0===e.fans?0:e.totalEarnings/e.fans}a.d(t,{aT:function(){return r},c$:function(){return n},uM:function(){return s}});let r=[{id:"acct_ebca85077e0a4b7da04cf14176466411",username:"milliexhart",displayName:"Millie Hart",fans:2547,likes:1141,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/i/im/imm/immx4rrlkhilts5dh39x83bedpl6wyng1768418465/544695119/avatar.jpg",connected:!0,totalEarnings:7408.18},{id:"acct_f05bf7874c974a5d875a1ef01c5bbc3b",username:"zoepriceee",displayName:"Zoe Price",fans:3619,likes:1267,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/m/md/mdn/mdnhc1nz9ox94ihg7u16t8rhyjv6jged1768087936/544182349/avatar.jpg",connected:!0,totalEarnings:9141.66},{id:"acct_9ee32f0bac4e4e8394a09f2c9fa2fbb7",username:"novaleighh",displayName:"Nova Leigh",fans:3368,likes:1603,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/i/ie/ie0/ie0meiwycqhcehkd78v4l9dbnaxw1z6y1768093624/543468095/avatar.jpg",connected:!0,totalEarnings:11754.34},{id:"acct_0653d6e6c3984bea8d3adc84cc616c7c",username:"lucymonroee",displayName:"Lucy Monroe",fans:1129,likes:441,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/s/sq/sqp/sqpf8x4pmbvxrnymrxfypbed1mfpuk2e1769621307/543659016/avatar.jpg",connected:!0,totalEarnings:2454.68},{id:"acct_6bb6d77ac2c741ecb54d865237bb04f4",username:"chloecookk",displayName:"Chloe Cook",fans:7541,likes:4519,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/m/md/mdl/mdlfvy5r0vparh7hhfajc6t6jk9ol6al1767766776/543655743/avatar.jpg",connected:!0,totalEarnings:55865.34},{id:"acct_bd6a75d6943141589cf5e43586653258",username:"jackiesmithh",displayName:"Jackie Smith",fans:1570,likes:1026,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/e/e9/e9m/e9m0roaeabodtursjgckicnhxqxdtizv1759783375/527476418/avatar.jpg",connected:!0,totalEarnings:4886.94},{id:"acct_749c75e13d7e4685813f2a2867ce614d",username:"brookeewest",displayName:"Brooke West",fans:2462,likes:1676,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/r/rl/rlu/rluvlnnlbfqerqrp91eg7jsfpxjlf3a31762104304/531889164/avatar.jpg",connected:!0,totalEarnings:7298.48},{id:"acct_b0b0698a614643c5932cfccd23f7c430",username:"ayaaann",displayName:"Aya Ann",fans:7113,likes:7190,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/s/sc/scq/scqnyfycb5bif9h3ocalfv18m2xdtxud1758769408/525242883/avatar.jpg",connected:!0,totalEarnings:32150.95},{id:"acct_b5e739f9f40a4da99b2f5ca559168012",username:"chloeecavalli",displayName:"Chloe Cavalli",fans:3294,likes:1812,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/a/aw/awu/awuql1oyh5f663gf75tycuv5s9ipephj1766518426/537028788/avatar.jpg",connected:!0,totalEarnings:10089.31},{id:"acct_cfb853d0ba714aeaa9a89e3026ec6190",username:"sadieeblake",displayName:"Sadie Blake",fans:29749,likes:33331,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/z/zw/zwk/zwkype5jeyivmb287n1ba6yd6wmfvdgr1764902344/526616700/avatar.jpg",connected:!0,totalEarnings:212170.56},{id:"acct_bde8d615937548f18c4e54b7cedf8c1d",username:"lolasinclairr",displayName:"Lola Sinclair",fans:4815,likes:2211,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/3/3p/3pt/3ptchepy7oro0ypbpnjpiydd4ancwno91769395473/543872404/avatar.jpg",connected:!0,totalEarnings:14463.57},{id:"acct_a50799a789a6422c8389d7d055fcbd1a",username:"maddieharperr",displayName:"Maddie Harper",fans:4400,likes:3338,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/s/se/seq/seqtznbuzdeuvuyq0rqx8jdhilxqbefp1762004551/529687791/avatar.jpg",connected:!0,totalEarnings:28263.34},{id:"acct_fbd172e2681f4dfbb6026ce806ecaa28",username:"zoeemonroe",displayName:"Zoe Monroe",fans:10177,likes:12251,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/u/u3/u3v/u3vqfnlgcrqkgue7rbt5r0xjpkua0fuw1757346851/522110263/avatar.jpg",connected:!0,totalEarnings:47298.83},{id:"acct_54e3119e77da4429b6537f7dd2883a05",username:"biancaawoods",displayName:"Bianca Woods",fans:7453,likes:4762,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/3/3m/3mm/3mmvdpvsmezdphq6mpdqxwy3wl0wf1kg1762789515/525755724/avatar.jpg",connected:!0,totalEarnings:45993.3},{id:"acct_2648cedf59644b0993ade9608bd868a1",username:"aviannaarose",displayName:"Avianna Rose",fans:2649,likes:2514,avatar:"https://thumbs.onlyfans.com/public/files/thumbs/c144/r/rn/rnd/rndb0kveiej4fnsrgrakmbiuy2iktzki1762744168/532745754/avatar.jpg",connected:!0,totalEarnings:20613.97}],n={totalModels:15,totalFans:r.reduce((e,t)=>e+t.fans,0),totalLikes:r.reduce((e,t)=>e+t.likes,0),totalEarnings:r.reduce((e,t)=>e+t.totalEarnings,0),avgLTV:r.reduce((e,t)=>e+t.totalEarnings,0)/r.reduce((e,t)=>e+t.fans,0)||0,topPerformer:r.reduce((e,t)=>t.fans>e.fans?t:e,r[0]),topEarner:r.reduce((e,t)=>t.totalEarnings>e.totalEarnings?t:e,r[0])}}},function(e){e.O(0,[792,971,69,744],function(){return e(e.s=4021)}),_N_E=e.O()}]);