"use strict";(()=>{var e={};e.id=679,e.ids=[679],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3688:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>_,patchFetch:()=>b,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>f});var r={};a.r(r),a.d(r,{GET:()=>u});var s=a(5419),i=a(9108),o=a(9678),n=a(8070);let c=process.env.OF_API_KEY||"ofapi_bT4J1Er2YBow46EihDfjlSFf5HRmiM15M4DCOoHn7889d8b4";async function u(){try{let e=await fetch("https://app.onlyfansapi.com/api/me",{headers:{Authorization:`Bearer ${c}`}});if(!e.ok){let e=await fetch("https://app.onlyfansapi.com/api/acct_ebca85077e0a4b7da04cf14176466411/posts?limit=1",{headers:{Authorization:`Bearer ${c}`}});if(e.ok){let t=await e.json();if(t._meta?._credits)return n.Z.json({balance:t._meta._credits.balance,used:t._meta._credits.used})}return n.Z.json({error:"Could not fetch credits"},{status:500})}let t=await e.json();return n.Z.json({balance:t._meta?._credits?.balance||"unknown",used:t._meta?._credits?.used||0})}catch(e){return n.Z.json({error:String(e)},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/credits/route",pathname:"/api/credits",filename:"route",bundlePath:"app/api/credits/route"},resolvedPagePath:"/Users/moltplush/.openclaw/workspace/s4s-app/app/api/credits/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h,headerHooks:m,staticGenerationBailout:f}=p,_="/api/credits/route";function b(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(3688));module.exports=r})();